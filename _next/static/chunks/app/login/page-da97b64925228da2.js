(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{4332:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>b});var a=l(4568),s=l(7620),n=l(8768),r=l(1920),c=l(9223),o=l(8130),i=l(5958),m=l(2942),h=l(4751),d=l(3910),u=l.n(d);let g="etelecom",p=e=>u().AES.encrypt(e,g).toString(),x=e=>{try{return u().AES.decrypt(e,g).toString(u().enc.Utf8)}catch(e){return console.error("Decryption failed:",e),""}};function b(){let[e,t]=(0,s.useState)(!1),[l,d]=(0,s.useState)(!1),[u,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[w,N]=(0,s.useState)(!1),v=(0,n.i)(),{auth:j,setAuth:y}=(0,c.mQ)(),S=(0,m.useRouter)();(0,s.useEffect)(()=>{if(j.token)return S.push("/accounts/shops");let e=localStorage.getItem("rememberedPhone"),t=localStorage.getItem("rememberedPassword"),l="true"===localStorage.getItem("rememberMe");if(e&&t&&l){let l=x(t);l&&(g(e),f(l),N(!0))}},[]);let k=async()=>{t(!0);try{if(!u||!b){r.oR.warning("Vui l\xf2ng nhập đầy đủ th\xf4ng tin!");return}let e=await v.login(u,b);w?(localStorage.setItem("rememberedPhone",u),localStorage.setItem("rememberedPassword",p(b)),localStorage.setItem("rememberMe","true")):(localStorage.removeItem("rememberedPhone"),localStorage.removeItem("rememberedPassword"),localStorage.removeItem("rememberMe")),y({token:e.access_token,user:e.user,currentAccount:e.account,shop:null,availableAccounts:[],currentExtension:null}),S.push("/accounts")}catch(e){r.oR.error((null==e?void 0:e.msg)||"Đăng nhập thất bại")}finally{t(!1)}};return(0,a.jsxs)("div",{className:"flex h-screen h-full",children:[(0,a.jsxs)("div",{className:"hidden md:flex flex-1 flex-col bg-gray-100",children:[(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("img",{src:"https://cs.etelecom.vn/assets/images/logo_eTelecom_full.png",alt:"Login Logo",className:"w-[10rem]"})}),(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold mb-4",children:["Ch\xe0o mừng bạn đến ",(0,a.jsx)("span",{className:"text-primary",children:"eAdmin"}),"!"]}),(0,a.jsx)("p",{className:"text-gray-600 my-6 px-6 mx-auto w-2/3 leading-[1.5rem]",children:"Nền tảng Giao tiếp Đa k\xeanh kết nối c\xe1c Nh\xe0 mạng & Zalo, gi\xfap Doanh nghiệp triển khai Zalo Official Account (OA) nhanh ch\xf3ng bao gồm OA Chat, ZNS, ZCC & Zalo Mini App"}),(0,a.jsx)("img",{src:"https://cs.etelecom.vn/assets/images/Connect_Model_e-Telecom.png",alt:"Login Banner",className:"w-2/3 mx-auto"})]})})]}),(0,a.jsx)("div",{className:"flex lg:w-1/3 md:w-1/2 w-full",children:(0,a.jsxs)("div",{className:"w-full p-10 bg-[#53b649] text-white",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Đăng nhập"}),(0,a.jsx)("div",{className:"text-sm",children:"Bạn c\xf3 thể d\xf9ng email hoặc số điện thoại để đăng nhập."}),(0,a.jsx)("div",{className:"relative w-full mt-6",children:(0,a.jsx)("input",{value:u,onChange:e=>g(e.target.value),type:"text",id:"username",className:"block p-3 px-4 w-full text-sm text-white placeholder-white bg-primary rounded-full border border-white appearance-none focus:outline-none",placeholder:"Nhập số điện thoại hoặc email"})}),(0,a.jsxs)("div",{className:"relative w-full mt-6",children:[(0,a.jsx)("input",{value:b,onChange:e=>f(e.target.value),type:l?"text":"password",id:"password",className:"block p-3 px-4 w-full text-sm text-white placeholder-white bg-primary rounded-full border border-white appearance-none focus:outline-none",placeholder:"Mật khẩu"}),(0,a.jsx)("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white",onClick:()=>d(e=>!e),tabIndex:-1,children:l?(0,a.jsx)(o.A,{}):(0,a.jsx)(i.A,{})})]}),(0,a.jsx)("div",{className:"flex flex-col gap-6 mt-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Sc,{className:"bg-white data-[state=checked]:bg-white data-[state=checked]:text-primary",id:"terms",checked:w,onCheckedChange:e=>N(!0===e)}),(0,a.jsx)(h.JU,{className:"cursor-pointer",htmlFor:"terms",children:"Ghi nhớ đăng nhập"})]})}),(0,a.jsx)("button",{className:"w-full mt-6 bg-white text-[#53b649] font-bold p-3.5 rounded-full text-sm transition-colors disabled:opacity-50",onClick:k,disabled:e,children:e?"Đang đăng nhập...":"Đăng nhập"})]})})]})}},5156:()=>{},6615:(e,t,l)=>{Promise.resolve().then(l.bind(l,4332))}},e=>{var t=t=>e(e.s=t);e.O(0,[887,970,939,587,315,358],()=>t(6615)),_N_E=e.O()}]);